# Pizza Ready - Simplified

動機 : 因為我很喜歡玩寒霜啟示錄的廣告遊戲，所以想說來試試看做個簡易版，網路上找了一下，發現與廣告遊戲模式一樣的 pizza ready 手機遊戲，故試著做一個極簡網頁版 pizza ready
 (心有餘而力不足，我也想做的好玩豐富一點，但我coding太爛了)。

## 用以下連結直接打開遊戲
https://wp1141-beta.vercel.app/

## 🚀 下載後如何打開遊戲（使用者指南）

若你是直接「下載整個專案的 ZIP 並解壓縮」到本地，請照以下步驟開啟：

1) 安裝 Node.js（如未安裝）
   - 前往官網下載安裝 LTS 版本：`https://nodejs.org/`

2) 在專案資料夾開啟終端機（Windows 可在資料夾空白處按 Shift+右鍵 → 於此處開啟 PowerShell）
   - 進入解壓後的專案根目錄（看得到 `package.json` 的那層）

3) 安裝相依套件（第一次執行才需要）
```bash
npm install
```

4) 啟動開發伺服器
```bash
npm run dev
```

5) 用瀏覽器開啟顯示的網址（預設）
```
http://localhost:5173/
```

若看到終端機顯示 Local: `http://localhost:5173/`，點開即可開始遊玩。

小提醒：之後再次遊玩只需要執行第 4–5 步（`npm run dev` → 開網址）。

## 🎮 如何遊玩

### 基本操作
1. **移動**：使用 WASD 或方向鍵移動角色
2. **收集商品**：站在工作站區域自動拾取商品
3. **運送商品**：站在收銀台區域放下商品
4. **服務顧客**：顧客自動從收銀台購買商品
5. **控制**：P 暫停，R 重新開始

### 重要限制規則
- **單一品項限制**：玩家（員工）一次只能拿一種商品類型
- **商品切換限制**：若手上有披薩就無法從漢堡煎台拿漢堡（反之亦然）
- **強制清空規則**：手上拿了披薩後就一定要去收銀台放下所有披薩才能去拿漢堡
- **整批販售**：顧客只會在收銀台有足夠商品滿足其完整需求時才購買

## 🎯 關卡詳細說明

### Level 1 (L1) - 披薩專賣店
**目標**：60 秒內賺取 $200
**商品**：僅披薩
**工作站**：烤爐 + 收銀台
**限制**：無商品類型限制（因為只有披薩）

**遊戲參數**：
- 烤爐：每 1.2 秒產 1 片披薩（容量 20 片）
- 玩家：手持上限 10 片、移速 180 px/s、取 2 片/s、放 3 片/s
- 顧客：每 2.5-4.0 秒來 1 位，需求 1-3 片，售出速率 2 片/s/位
- 收銀台：儲放披薩堆疊上限 30 片
- 售價：$10/片

**升級選單**（L1 過關後）：
- 手持上限 +5
- 移動速度 +25%
- 烤爐效率 +25%
- 拿披薩效率 +1 片/s

### Level 2 (L2) - 高效披薩店
**目標**：60 秒內賺取 $500
**商品**：僅披薩
**工作站**：烤爐 + 收銀台
**限制**：無商品類型限制（因為只有披薩）

**遊戲參數**（基於 L1 升級選擇調整）：
- 顧客：每 1.6-2.8 秒來 1 位（更頻繁），需求 2-5 片（更大）
- 其他參數根據 L1 升級選擇動態調整

**升級選單**（L2 過關後）：
- 手持上限 +5
- 移動速度 +25%
- 所有工作台效率 +25%（烤爐和漢堡煎台）
- 拿效率 +1/s（披薩和漢堡）

### Level 3 (L3) - 雙商品餐廳
**目標**：60 秒內賺取 $400
**商品**：披薩 + 漢堡
**工作站**：烤爐 + 漢堡煎台 + 收銀台
**限制**：**單一品項限制**（重要！）

**遊戲參數**：
- 烤爐：每 1.2 秒產 1 片披薩（容量 20 片）
- 漢堡煎台：每 1.2 秒產 1 個漢堡（容量 20 個）
- 玩家：手持上限 10 個、移速 180 px/s、取 2 個/s、放 3 個/s
- 顧客：每 2.5-4.0 秒來 1 位，需求 1-3 個，隨機訂購披薩或漢堡
- 收銀台：披薩堆疊上限 30 片、漢堡堆疊上限 30 個
- 售價：$10/片披薩、$10/個漢堡

**重要限制**：
- 玩家一次只能拿一種商品類型
- 若手上有披薩，無法從漢堡煎台拿漢堡
- 若手上有漢堡，無法從烤爐拿披薩
- 必須先放下所有手上商品，才能拿取另一種商品類型

### 失敗處理
- 任何關卡未達標會顯示「LOSE - Returning to L1…」
- 1.2 秒後自動回到 L1 初始配置



## 🎮 遊戲概述
基於 React + TypeScript 和 Vite 建置的手機遊戲「Pizza Ready」簡化版網頁遊戲。玩家操控餐廳員工，將商品從工作站運送到收銀台，為顧客服務並賺取金錢。

### 核心玩法
- **多關卡系統**：L1 披薩專賣店 → L2 高效披薩店 → L3 雙商品餐廳
- **操作**：WASD 或方向鍵移動，P 暫停，R 重新開始，Space 確認升級
- **升級系統**：每關過關後可選擇升級選項，影響後續關卡難度
- **商品限制**：L3 玩家一次只能拿一種商品類型，增加策略性
- **整批販售**：顧客只會在收銀台有足夠商品滿足完整需求時才購買

### 視覺設計
- **風格**：等距視角配合高彩度色彩
- **字體**：Noto Sans TC + Inter 字體
- **主題**：卡通風格配柔和陰影和現代 UI 徽章

## 📁 專案結構

```
pizza-ready/
├── public/                                  # 靜態資源（直接由瀏覽器載入）
│   ├── pizza.png                            # 披薩圖（堆疊顯示用）
│   ├── pizza_oven.png                       # 烤爐圖
│   ├── burger.png                           # 漢堡圖（L3 堆疊顯示用）
│   ├── burger_fry_station.png              # 漢堡煎台圖（L3）
│   ├── cash-register.png                   # 收銀台圖
│   ├── character-employee.png               # 店員角色
│   ├── character-*.png（多個）              # 顧客角色頭像
│   ├── models/                              #（預留）3D 或其他素材
│   └── vite.svg
├── src/                                     # 原始碼
│   ├── App.tsx                              # 根組件，渲染 GameCanvas
│   ├── App.css                              # 全域樣式
│   ├── GameCanvas.tsx                       # 核心遊戲邏輯與渲染（Canvas）
│   ├── constants.ts                         # 遊戲數值、配色與字體等常數
│   ├── index.css                            # 基礎 CSS（reset/base）
│   └── main.tsx                             # React 進入點
├── index.html                               # HTML 模板（含 Google Fonts）
├── package.json                             # 相依與腳本（React/TS/Vite 皆在此）
├── vite.config.ts                           # Vite 設定
├── tsconfig.json                            # TypeScript 基礎設定
├── tsconfig.app.json                        # App 專用 TS 設定
├── tsconfig.node.json                       # Node 專用 TS 設定
└── eslint.config.js                         # ESLint 設定
```



## 🔧 檔案說明

### 核心遊戲檔案

#### `src/GameCanvas.tsx` (1300+ 行)
**主要遊戲元件** - 包含所有遊戲邏輯、渲染和狀態管理：
- **遊戲迴圈**：60fps 動畫迴圈配合增量時間
- **輸入處理**：鍵盤控制（WASD/方向鍵、P、R、Space）
- **遊戲狀態**：玩家位置、商品堆疊、金錢、計時器、顧客、關卡進度
- **渲染**：等距圖形、UI 元素、動畫、商品堆疊視覺化
- **遊戲邏輯**：工作站生產、轉運速率、顧客生成、販售、升級系統
- **關卡系統**：L1/L2/L3 關卡、升級選單、失敗處理
- **商品系統**：披薩和漢堡的生產、拿取、放下、銷售邏輯

> 販售邏輯採「整批販售」：只有當收銀檯庫存足以滿足佇列第一位顧客的需求，才一次性售出。
> L3 新增「單一品項限制」：玩家一次只能拿一種商品類型，必須先清空手上商品才能切換。

#### `src/constants.ts` (100 行)
**配置檔案** - 集中化遊戲設定和設計規格：
- **遊戲平衡**：速度、速率、限制、目標
- **視覺設計**：色彩調色盤、字體排版、等距設定
- **區域定義**：烤爐和收銀台區域座標
- **UI 常數**：字體家族、大小、粗細

### React 應用檔案

#### `src/App.tsx` (14 行)
**主要應用包裝器** - 簡單容器，渲染遊戲畫布：
- 匯入並顯示 `GameCanvas` 元件
- 提供基本頁面結構

#### `src/main.tsx`
**React 入口點** - 初始化 React 應用並掛載到 DOM：
- 建立 React 根並渲染 App 元件
- 設定開發環境

### 樣式檔案

#### `src/App.css` (41 行)
**全域應用樣式**：
- 根容器樣式
- 畫布樣式（陰影和邊框）
- 響應式佈局調整

#### `src/index.css`
**基礎 CSS 樣式** - 全域 CSS 重置和基礎樣式：
- CSS 正規化
- 預設字體設定
- 基礎元素樣式

### 配置檔案

#### `index.html`
**HTML 模板** - 主要頁面結構：
- Meta 標籤和視窗設定
- Google 字體整合（Noto Sans TC、Inter）
- React 應用掛載點

#### `package.json`
**專案配置** - 相依性和腳本：
- React + TypeScript + Vite 設定
- 開發和建置腳本
- 套件相依性

#### `vite.config.ts`
**Vite 打包器配置** - 建置工具設定：
- 開發伺服器設定
- 建置最佳化選項

#### `tsconfig.*.json`
**TypeScript 配置** - 編譯器設定：
- `tsconfig.json`：基礎配置
- `tsconfig.app.json`：應用程式專用設定
- `tsconfig.node.json`：Node.js 環境設定

#### `eslint.config.js`
**程式碼檢查配置** - 程式碼品質規則：
- React + TypeScript 的 ESLint 規則
- 程式碼格式化標準

## 🎯 已實作功能

### ✅ 已完成功能
- [x] **核心玩法**：移動、商品運輸、顧客服務
- [x] **多關卡系統**：L1/L2/L3 關卡、升級選單、失敗處理
- [x] **雙商品系統**：披薩和漢堡的生產、拿取、放下、銷售
- [x] **單一品項限制**：L3 玩家一次只能拿一種商品類型
- [x] **視覺設計**：等距風格、色彩調色盤、字體排版、商品堆疊視覺化
- [x] **UI 元素**：HUD、區域提示、浮動文字、顧客佇列、升級選單
- [x] **遊戲狀態**：暫停、重新開始、勝利/失敗條件、關卡進度
- [x] **效能**：60fps 遊戲迴圈、高效渲染、商品計數優化
- [x] **整批販售**：顧客只會在收銀台有足夠商品時才購買


## 🚀 開始使用

### 先決條件
- Node.js（v16 或更高版本）
- npm 或 yarn

### 安裝
```bash
# 複製或下載專案
cd pizza-ready

# 安裝相依性
npm install

# 啟動開發伺服器
npm run dev

# 開啟瀏覽器到 http://localhost:5173/
```

### 直接以「壓縮檔下載」的使用者
- 下載 ZIP → 解壓縮 → 進入資料夾 → 依上方步驟執行 `npm install`（首次）與 `npm run dev`（每次啟動）。

### 建置生產版本
```bash
# 建立生產建置
npm run build

# 預覽生產建置
npm run preview
```


## 🛠️ 開發說明

### 架構決策
- **畫布渲染**：為了流暢的 60fps 遊戲體驗和自訂圖形
- **React + TypeScript**：型別安全和元件化架構
- **集中化常數**：便於遊戲平衡和設計調整
- **函數元件**：使用 hooks 的現代 React 模式

### 效能考量
- 遊戲迴圈以 60fps 運行，配合增量時間計算
- 高效的畫布渲染，最小化重繪
- 鍵盤輸入使用 refs 處理，避免 React 重新渲染
- 浮動文字系統自動清理

### 程式碼組織
- 單檔案遊戲元件，簡化結構
- 分離常數，便於配置
- 模組化繪圖函數，便於維護
- TypeScript 提供更好的開發體驗

## 📝 授權

此專案為網頁程式設計課程作業的教育用途而建立。